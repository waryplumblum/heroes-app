import{A as Be,B as Ne,C as Z,D as Ve,E as je,F as Ae,G as $e,H as Re,I as Ue,J as qe,a as G,b as _,c as _e,d as J,e as K,f as T,g as Ee,h as be,i as ye,j as Fe,k as we,l as Q,m as Le,n as Pe,o as k,p as W,q as O,r as X,s as Te,t as Y,u as D,v as ke,w as Oe,x as De,y as He,z as H}from"./chunk-74Q3ECLS.js";import{a as Se,g as xe,h as Ie,i as Me,j as z,k as re}from"./chunk-BBJQH76P.js";import"./chunk-JGYM447R.js";import{$,Bb as S,Bc as ge,C as L,Cc as ve,Db as b,Dc as Ce,I as me,Kb as M,Lb as a,Mb as y,Nb as d,Qb as de,Rb as ie,Sb as F,T as se,Ta as U,Tb as P,Ub as ue,Vb as fe,Wa as m,Xa as I,_ as le,da as pe,ja as u,ka as R,ma as ce,mb as f,n as w,ob as p,r as A,sa as v,ta as C,ub as o,vb as i,wb as c,xc as h,yb as E,yc as q,zc as he}from"./chunk-KL6BSHIL.js";var rt=()=>({width:"250px"});function ot(t,e){if(t&1){let l=E();o(0,"mat-list-item",9),S("click",function(){v(l),b();let n=M(2);return C(n.toggle())}),o(1,"mat-icon",10),a(2),i(),a(3),i()}if(t&2){let l=e.$implicit;p("routerLink",l.url),m(2),y(l.icon),m(),d(" ",l.label," ")}}var Je=(()=>{let e=class e{constructor(){this.sidebarItems=[{label:"Listado",icon:"label",url:"./list"},{label:"A\xF1adir",icon:"add",url:"./new-hero"},{label:"Buscar",icon:"search",url:"./search"}]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["app-layout-page"]],decls:21,vars:3,consts:[["sidenav",""],["fullscreen",""],["mode","push",3,"ngStyle"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["color","primary"],["mat-button",""],[1,"container","p-2"],[3,"click","routerLink"],["matListItemIcon",""]],template:function(n,s){if(n&1){let g=E();o(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar")(4,"span"),a(5,"Men\xFA"),i(),c(6,"span",3),o(7,"button",4),S("click",function(){v(g);let N=M(2);return C(N.toggle())}),o(8,"mat-icon"),a(9,"menu"),i()()(),o(10,"mat-nav-list"),f(11,ot,4,3,"mat-list-item",5),i()(),o(12,"mat-toolbar",6)(13,"button",4),S("click",function(){v(g);let N=M(2);return C(N.toggle())}),o(14,"mat-icon"),a(15,"menu"),i()(),c(16,"span",3),o(17,"button",7),a(18,"Logout"),i()(),o(19,"div",8),c(20,"router-outlet"),i()()}n&2&&(m(),p("ngStyle",de(2,rt)),m(10),p("ngForOf",s.sidebarItems))},dependencies:[h,he,Ie,z,_,_e,T,Ve,Z,Be,$e,Re,Ue]});let t=e;return t})();function st(t,e){if(t&1&&(o(0,"mat-option",11),a(1),i()),t&2){let l=e.$implicit;p("value",l.id),m(),d(" ",l.desc," ")}}var ne=(()=>{let e=class e{constructor(){this.publishers=[{id:"DC Comics",desc:"DC - Comics"},{id:"Marvel Comics",desc:"Marvel - Comics"}]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["app-new-page"]],decls:41,vars:1,consts:[[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-6"],["type","text","matInput","","required",""],[1,"col-12"],["required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","primary"],["src","","alt","Imagen del h\xE9roe","mat-card-image",""],[3,"value"]],template:function(n,s){n&1&&(o(0,"h1"),a(1,"Editar / Agregar h\xE9roe "),o(2,"small"),a(3,"Superman"),i()(),c(4,"mat-divider",0),o(5,"div",1)(6,"div",2)(7,"mat-card")(8,"mat-card-content")(9,"div",1)(10,"mat-form-field",2)(11,"mat-label"),a(12,"Super h\xE9roe"),i(),c(13,"input",3),i(),o(14,"mat-form-field",2)(15,"mat-label"),a(16,"Alter ego"),i(),c(17,"input",3),i(),o(18,"mat-form-field",4)(19,"mat-label"),a(20,"Primera aparici\xF3n"),i(),c(21,"input",3),i(),o(22,"mat-form-field",4)(23,"mat-label"),a(24,"Personajes"),i(),c(25,"input",3),i(),o(26,"mat-form-field",4)(27,"mat-label"),a(28,"Creador"),i(),o(29,"mat-select",5),f(30,st,2,2,"mat-option",6),i()()(),o(31,"div",7)(32,"button",8),a(33,"Borrar"),i(),o(34,"button",9)(35,"mat-icon"),a(36,"save"),i(),a(37,"Guardar"),i()()()()(),o(38,"div",2)(39,"mat-card"),c(40,"img",10),i()()()),n&2&&(m(30),p("ngForOf",s.publishers))},dependencies:[h,G,_,k,O,D,K,J,T,Q,H,Ae]});let t=e;return t})();var j={baseUrl:"https://waryplumblum.github.io",production:!0,useStaticData:!1};var B=(()=>{let e=class e{constructor(r){this.http=r,this.baseUrl=j.baseUrl}getHeroes(){return j.useStaticData?(console.log("Fetching heroes from static data"),this.http.get("assets/data/db.json").pipe(A(r=>r.heroes||[]),L(r=>(console.error("Error fetching static data:",r),w([]))))):(console.log("Fetching heroes from API"),this.http.get(`${this.baseUrl}/heroes`).pipe(L(r=>(console.error("Error fetching dynamic data:",r),w([])))))}getHeroById(r){return j.useStaticData?this.getHeroes().pipe(A(n=>n.find(s=>s.id===r)),L(()=>w(void 0))):this.http.get(`${this.baseUrl}/heroes/${r}`).pipe(L(()=>w(void 0)))}getSuggestions(r){return j.useStaticData?this.getHeroes().pipe(A(n=>n.filter(s=>s.superhero.toLowerCase().includes(r.toLowerCase())).slice(0,6)),L(()=>w([]))):this.http.get(`${this.baseUrl}/heroes?q=${r}&_limit=6`)}};e.\u0275fac=function(n){return new(n||e)(pe(Se))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lt(t,e){if(t&1&&(o(0,"mat-option",6),a(1),i()),t&2){let l=e.$implicit;p("value",l),m(),d(" ",l.superhero," ")}}function pt(t,e){if(t&1&&(o(0,"mat-option",7),a(1),i()),t&2){let l=b();m(),d(" No se encontr\xF3 nada con el t\xE9rmino ",l.searchInput.value," ")}}var We=(()=>{let e=class e{constructor(r){this.heroesService=r,this.searchInput=new ye(""),this.heroes=[]}searchHero(){let r=this.searchInput.value||"";this.heroesService.getSuggestions(r).subscribe(n=>this.heroes=n)}onSelectedOption(r){if(!r.option.value){this.selectedHero=void 0;return}let n=r.option.value;this.searchInput.setValue(n.superhero),this.selectedHero=n}};e.\u0275fac=function(n){return new(n||e)(I(B))},e.\u0275cmp=u({type:e,selectors:[["app-search-page"]],decls:13,vars:7,consts:[["auto","matAutocomplete"],[1,"flex","flex-column","p-2"],["type","text","matInput","",3,"input","formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],[3,"value"],["value",""]],template:function(n,s){if(n&1){let g=E();o(0,"div",1)(1,"h3"),a(2,"Buscador"),i(),o(3,"mat-form-field")(4,"mat-label"),a(5,"Buscador de h\xE9roes"),i(),o(6,"input",2),S("input",function(){return v(g),C(s.searchHero())}),i(),o(7,"mat-autocomplete",3,0),S("optionSelected",function(N){return v(g),C(s.onSelectedOption(N))}),f(9,lt,2,2,"mat-option",4)(10,pt,2,1,"mat-option",5),i()(),a(11),F(12,"json"),i()}if(n&2){let g=M(8);m(6),p("formControl",s.searchInput)("matAutocomplete",g),m(3),p("ngForOf",s.heroes),m(),p("ngIf",s.heroes.length===0&&s.searchInput.value&&s.searchInput.value.length>0),m(),d(" ",P(12,5,s.selectedHero),`
`)}},dependencies:[h,q,Ee,be,Fe,Le,G,Pe,K,J,Q,ge]});let t=e;return t})();var ee=(()=>{let e=class e{transform(r){return!r.id&&!r.alt_img?"assets/no-image.png":r.alt_img?r.alt_img:`assets/heroes/${r.id}.jpg`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=ce({name:"heroImage",type:e,pure:!0});let t=e;return t})();function ct(t,e){t&1&&(o(0,"mat-grid-list",2)(1,"mat-grid-tile"),c(2,"mat-spinner"),i()())}function dt(t,e){if(t&1){let l=E();o(0,"div",3)(1,"mat-card",4)(2,"mat-card-header")(3,"mat-card-title"),a(4),i(),o(5,"mat-card-subtitle"),a(6),i()(),c(7,"img",5),F(8,"heroImage"),i(),o(9,"mat-card",4)(10,"mat-card-header")(11,"mat-card-title"),a(12," Informaci\xF3n "),i(),o(13,"mat-card-subtitle"),a(14),i()(),o(15,"mat-card-content")(16,"mat-list")(17,"mat-list-item"),a(18),i(),o(19,"mat-list-item"),a(20),i(),o(21,"mat-list-item"),a(22),i(),o(23,"mat-list-item"),a(24),i()(),o(25,"button",6),S("click",function(){v(l);let n=b();return C(n.goBack())}),a(26,"Regresar"),i()()()()}if(t&2){let l=b();m(4),d(" ",l.hero.alter_ego," "),m(2),d(" ",l.hero.superhero," "),m(),p("src",P(8,9,l.hero),U)("alt",l.hero.superhero),m(7),d(" ",l.hero.superhero," "),m(4),d(" ",l.hero.first_appearance," "),m(2),d(" ",l.hero.characters," "),m(2),d(" ",l.hero.publisher," "),m(2),d(" ",l.hero.alter_ego," ")}}var Ye=(()=>{let e=class e{constructor(r,n,s){this.heroService=r,this.activatedRoute=n,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(me(1e3),se(({id:r})=>this.heroService.getHeroById(r))).subscribe(r=>{if(!r)return this.router.navigate(["/heroes/list"]);this.hero=r,console.log({hero:r})})}goBack(){this.router.navigateByUrl("heroes/list")}};e.\u0275fac=function(n){return new(n||e)(I(B),I(xe),I(Me))},e.\u0275cmp=u({type:e,selectors:[["app-hero-page"]],decls:3,vars:2,consts:[["divLoading",""],["class","grid p-2",4,"ngIf","ngIfElse"],["cols","1"],[1,"grid","p-2"],[1,"col-12","sm:col-6"],["mat-card-image","",3,"src","alt"],["mat-button","","color","warn",3,"click"]],template:function(n,s){if(n&1&&f(0,ct,3,0,"ng-template",null,0,fe)(2,dt,27,11,"div",1),n&2){let g=M(1);m(2),p("ngIf",s.hero)("ngIfElse",g)}},dependencies:[q,_,k,O,Y,D,X,W,He,De,Ne,Z,je,ee]});let t=e;return t})();var ut=t=>["/heroes/edit",t],ft=t=>["/heroes",t];function ht(t,e){if(t&1&&(o(0,"mat-chip"),a(1),i()),t&2){let l=e.$implicit;m(),y(l)}}var Ze=(()=>{let e=class e{constructor(){}ngOnInit(){if(!this.hero)throw Error("Hero property is required")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},decls:30,vars:19,consts:[["matCardImage","",3,"src","alt"],[1,"mt-2"],[4,"ngFor","ngForOf"],["mat-button","","mat-raised","","color","primary",3,"routerLink"],[1,"spacer"],["mat-button","","mat-raised","",3,"routerLink"]],template:function(n,s){n&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a(3),i(),o(4,"mat-card-subtitle"),a(5),i()(),c(6,"img",0),F(7,"heroImage"),o(8,"mat-card-content",1)(9,"h4"),a(10),i(),o(11,"p")(12,"strong"),a(13,"Primera aparici\xF3n"),i(),a(14),c(15,"br"),o(16,"mat-chip-listbox"),f(17,ht,2,1,"mat-chip",2),F(18,"slice"),i()()(),c(19,"mat-divider"),o(20,"mat-card-actions")(21,"button",3)(22,"mat-icon"),a(23,"edit "),i(),a(24,"Editar"),i(),c(25,"span",4),o(26,"button",5)(27,"mat-icon"),a(28,"more_horiz"),i(),a(29,"M\xE1s "),i()()()),n&2&&(m(3),y(s.hero.superhero),m(2),y(s.hero.alter_ego),m(),p("src",P(7,9,s.hero),U)("alt",s.hero.superhero),m(4),y(s.hero.publisher),m(4),d(" ",s.hero.first_appearance," "),m(3),p("ngForOf",ue(18,11,s.hero.characters.split(","),0,3)),m(4),p("routerLink",ie(15,ut,s.hero.id)),m(5),p("routerLink",ie(17,ft,s.hero.id)))},dependencies:[h,z,_,k,Te,O,Y,D,X,W,ke,Oe,T,H,ve,ee]});let t=e;return t})();function vt(t,e){if(t&1&&(o(0,"div",2),c(1,"heroes-hero-card",3),i()),t&2){let l=e.$implicit;m(),p("hero",l)}}var et=(()=>{let e=class e{constructor(r){this.heroesService=r,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(r=>{console.log("Heroes received:",r),this.heroes=Array.isArray(r)?r:[]},r=>{console.error("Error fetching heroes:",r),this.heroes=[]})}};e.\u0275fac=function(n){return new(n||e)(I(B))},e.\u0275cmp=u({type:e,selectors:[["app-list-page"]],decls:5,vars:1,consts:[[1,"grid","bm-8","pt-2"],["class","col-12 sm:col-4 md:col-3 xl:col-2",4,"ngFor","ngForOf"],[1,"col-12","sm:col-4","md:col-3","xl:col-2"],[3,"hero"]],template:function(n,s){n&1&&(o(0,"h1"),a(1,"Listado de H\xE9roes"),i(),c(2,"mat-divider"),o(3,"div",0),f(4,vt,2,1,"div",1),i()),n&2&&(m(4),p("ngForOf",s.heroes))},dependencies:[h,H,Ze]});let t=e;return t})();var Ct=[{path:"",component:Je,children:[{path:"new-hero",component:ne},{path:"search",component:We},{path:"edit/:id",component:ne},{path:"list",component:et},{path:":id",component:Ye},{path:"**",redirectTo:"list"}]}],tt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=R({type:e}),e.\u0275inj=$({imports:[re.forChild(Ct),re]});let t=e;return t})();var li=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=R({type:e}),e.\u0275inj=$({imports:[Ce,tt,we,qe]});let t=e;return t})();export{li as HeroesModule};
